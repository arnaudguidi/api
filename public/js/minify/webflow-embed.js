<script>
function ready2(callback){"loading"!=document.readyState?callback():document.addEventListener?document.addEventListener("DOMContentLoaded",callback):document.attachEvent("onreadystatechange",(function(){"complete"==document.readyState&&callback()}))}ready2((function(){go2=function(){console.log("\n","GO 2");const boutonsFiltres={boutonDE:{ref:document.querySelector("#btn-de"),state:0,activate:!1},boutonRC:{ref:document.querySelector("#btn-rc"),state:0,activate:!1},boutonLE:{ref:document.querySelector("#btn-le"),state:0,activate:!1},boutonLI:{ref:document.querySelector("#btn-li"),state:0,activate:!1},boutonLF:{ref:document.querySelector("#btn-lf"),state:0,activate:!1},boutonIP:{ref:document.querySelector("#btn-ip"),state:0,activate:!1},boutonIN:{ref:document.querySelector("#btn-in"),state:0,activate:!1}};let maxSelect=3,btncount=0;const updateButtons=object=>{if(btncount=0,checkButActive()<3)for(const[key,value]of Object.entries(object))for(const[key2,value2]of Object.entries(value))buttonActivate(value);else if(3===checkButActive())for(const[key,value]of Object.entries(object))for(const[key2,value2]of Object.entries(value))"state"===key2&&(0===value2?buttonDeactivate(value):1===value2&&buttonActivate(value))},btnOnOFF=obj=>{let stateBtn=obj.state;0===stateBtn&&btncount<3?(animBoutonON(obj.ref),obj.state=1):1===stateBtn&&(animBoutonOFF(obj.ref),obj.state=0),updateButtons(boutonsFiltres)},animBoutonOFF=bouton=>{let checkOff=bouton.getElementsByClassName("off")[0],checkOn=bouton.getElementsByClassName("on")[0];bouton.style.color="rgb(64, 64, 64)",bouton.style.borderColor="rgb(208, 219, 229)",checkOff.style.display="block",checkOn.style.display="none"},animBoutonON=bouton=>{let checkOff=bouton.getElementsByClassName("off")[0],checkOn=bouton.getElementsByClassName("on")[0];bouton.style.color="rgb(74, 12, 120)",bouton.style.borderColor="rgb(91, 10, 196)",checkOff.style.display="none",checkOn.style.display="block"},buttonActivate=bouton=>{bouton.ref.style.opacity="1",bouton.ref.style.disabled="false",bouton.ref.style.cursor="pointer",bouton.activate="true"},buttonDeactivate=bouton=>{bouton.ref.style.opacity="0.3",bouton.ref.style.disabled="true",bouton.ref.style.cursor="not-allowed",bouton.activate="false"},checkButActive=()=>{btncount=0;let tb=[];return tb[0]=boutonsFiltres.boutonDE.state,tb[1]=boutonsFiltres.boutonRC.state,tb[2]=boutonsFiltres.boutonLE.state,tb[3]=boutonsFiltres.boutonLI.state,tb[4]=boutonsFiltres.boutonLF.state,tb[5]=boutonsFiltres.boutonIP.state,tb[6]=boutonsFiltres.boutonIN.state,tb.forEach(value=>{1===value&&(btncount+=1)}),btncount};boutonsFiltres.boutonDE.ref.addEventListener("click",e=>{e.preventDefault(),btnOnOFF(boutonsFiltres.boutonDE)}),boutonsFiltres.boutonRC.ref.addEventListener("click",e=>{e.preventDefault(),btnOnOFF(boutonsFiltres.boutonRC)}),boutonsFiltres.boutonLE.ref.addEventListener("click",e=>{e.preventDefault(),btnOnOFF(boutonsFiltres.boutonLE)}),boutonsFiltres.boutonLI.ref.addEventListener("click",e=>{e.preventDefault(),btnOnOFF(boutonsFiltres.boutonLI)}),boutonsFiltres.boutonLF.ref.addEventListener("click",e=>{e.preventDefault(),btnOnOFF(boutonsFiltres.boutonLF)}),boutonsFiltres.boutonIP.ref.addEventListener("click",e=>{e.preventDefault(),btnOnOFF(boutonsFiltres.boutonIP)}),boutonsFiltres.boutonIN.ref.addEventListener("click",e=>{e.preventDefault(),btnOnOFF(boutonsFiltres.boutonIN)});const populArrayPdf=(ref,activ)=>{if(activ)console.log("Element à mettre dans le pdf :",ref),-1===pages.indexOf(ref)?pages.push(ref):console.log("This item already exists : ",ref);else{const index=pages.indexOf(ref);index>-1&&pages.splice(index,1)}};let contentFiltres=document.querySelector(".resultat-filtres-acc-content"),arrowFiltres=document.querySelector(".resultat-filtres-acc-arrow");contentFiltres.style.opacity=0,contentFiltres.style.display="none";let filtresDropState=0;const filtresDrop=document.querySelector(".resultat-filtres-acc-titre").addEventListener("click",e=>{e.preventDefault(),animDropFiltres()}),animDropFiltres=()=>{0===filtresDropState?(contentFiltres.style.display="flex",contentFiltres.style.opacity=1,arrowFiltres.style.rotate=90,filtresDropState=1):1===filtresDropState&&(contentFiltres.style.display="none",contentFiltres.style.opacity=0,arrowFiltres.style.rotate=-90,filtresDropState=0)};toogleTable=function(opt){$("#res-mont option:selected").each((function(){resMont=$(this).val()})),"Coût employeur"==resMont?BNNai=0:"brut"==resMont?BNNai=1:"net"==resMont?BNNai=2:"netai"==resMont&&(BNNai=3),1===boutonsFiltres.boutonDE.state?(montre("#DE-head"),montre("#DE-ind"),montre("#DE-risk"),montre("#DE-hyp"),montre("#DE-are"),montre("#espDE"),populArrayPdf(EspDE,!0)):(cache("#DE-head"),cache("#DE-ind"),cache("#DE-risk"),cache("#DE-hyp"),cache("#DE-are"),cache("#espDE"),populArrayPdf(EspDE,!1)),1===boutonsFiltres.boutonRC.state?(montre("#RC-head"),montre("#RC-ind"),montre("#RC-risk"),montre("#RC-hyp"),montre("#RC-are"),montre("#espRC"),populArrayPdf(EspRC,!0)):(cache("#RC-head"),cache("#RC-ind"),cache("#RC-risk"),cache("#RC-hyp"),cache("#RC-are"),cache("#espRC"),populArrayPdf(EspRC,!1)),1===boutonsFiltres.boutonLE.state?(montre("#LE-head"),montre("#LE-ind"),montre("#LE-risk"),montre("#LE-hyp"),montre("#LE-are"),montre("#espLE"),populArrayPdf(EspLE,!0)):(cache("#LE-head"),cache("#LE-ind"),cache("#LE-risk"),cache("#LE-hyp"),cache("#LE-are"),cache("#espLE"),populArrayPdf(EspLE,!1)),1===boutonsFiltres.boutonLI.state?(montre("#LI-head"),montre("#LI-ind"),montre("#LI-risk"),montre("#LI-hyp"),montre("#LI-are"),montre("#espLI"),populArrayPdf(EspLI,!0)):(cache("#LI-head"),cache("#LI-ind"),cache("#LI-risk"),cache("#LI-hyp"),cache("#LI-are"),cache("#espLI"),populArrayPdf(EspLI,!1)),1===boutonsFiltres.boutonLF.state?(montre("#LF-head"),montre("#LF-ind"),montre("#LF-risk"),montre("#LF-hyp"),montre("#LF-are"),montre("#espLF"),populArrayPdf(EspLF,!0)):(cache("#LF-head"),cache("#LF-ind"),cache("#LF-risk"),cache("#LF-hyp"),cache("#LF-are"),cache("#espLF"),populArrayPdf(EspLF,!1)),1===boutonsFiltres.boutonIP.state?(montre("#IP-head"),montre("#IP-ind"),montre("#IP-risk"),montre("#IP-hyp"),montre("#IP-are"),montre("#espIP"),populArrayPdf(EspIP,!0)):(cache("#IP-head"),cache("#IP-ind"),cache("#IP-risk"),cache("#IP-hyp"),cache("#IP-are"),cache("#espIP"),populArrayPdf(EspIP,!1)),1===boutonsFiltres.boutonIN.state?(montre("#IN-head"),montre("#IN-ind"),montre("#IN-risk"),montre("#IN-hyp"),montre("#IN-are"),montre("#espIN"),populArrayPdf(EspIN,!0)):(cache("#IN-head"),cache("#IN-ind"),cache("#IN-risk"),cache("#IN-hyp"),cache("#IN-are"),cache("#espIN"),populArrayPdf(EspIN,!1)),remplissageTableau()};const submitFiltres=document.querySelector("#filtres-valider").addEventListener("click",e=>{e.preventDefault(),toogleTable(),animDropFiltres()});btnOnOFF(boutonsFiltres.boutonRC),btnOnOFF(boutonsFiltres.boutonLI),btnOnOFF(boutonsFiltres.boutonLE),go3()}}));
</script>